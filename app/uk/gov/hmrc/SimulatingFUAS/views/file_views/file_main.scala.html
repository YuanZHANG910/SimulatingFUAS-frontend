@import uk.gov.hmrc.SimulatingFUAS.models.FileInProgress

@(files: List[FileInProgress])(implicit request: Request[_], messages: Messages)

@uk.gov.hmrc.SimulatingFUAS.views.html.main_template(title = "Hello from SimulatingFUAS-frontend", mainClass = Some("full-width")) {
  @uk.gov.hmrc.SimulatingFUAS.views.html.main_base()

  <h3>All Files Show as Below:</h3>

  <div>

    <table class=highlight>

      <thead>
        <tr>
          <th>Envelope ID</th>
          <th>File ID</th>
          <th>File Ref</th>
          <th>Started At</th>
          <th>    </th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        @for(file <- files){
            <tr>
                <td>
                  <a href="@uk.gov.hmrc.SimulatingFUAS.controllers.routes.EnvelopeController.loadEnvelopeInfRE(file.EnvelopeID)">
                    @file.EnvelopeID
                  </a>
                </td>
                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp@file.FileID &nbsp&nbsp&nbsp</td>
                <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp@file.FileRef &nbsp&nbsp&nbsp</td>
                <td>
                  <script language="JavaScript">document.write(new Date(@file.startedAt).toGMTString());</script>
                </td>
                <td>
                  <a href="@uk.gov.hmrc.SimulatingFUAS.controllers.routes.FilesController.scan(file.EnvelopeID, file.FileID, file.FileRef)">
                    <input type="button" style="width:110px;" value="Rescan"/>
                  </a>
                </td>
                <td>
                  <a href="@uk.gov.hmrc.SimulatingFUAS.controllers.routes.FilesController.move(file.EnvelopeID, file.FileID, file.FileRef)">
                    <input type="button" style="width:110px;" value="Move"/>
                  </a>
                </td>
                <td>
                  <a href="@uk.gov.hmrc.SimulatingFUAS.controllers.routes.FilesController.deleteInProgressFile(file.EnvelopeID, file.FileID, file.FileRef)">
                    <input type="button" style="width:110px;" value="Delete"/>
                  </a>
                </td>
            </tr>
        }
      </tbody>

    </table>

  </div>
}